# ğŸ„ Gyulist - ç‰›ç¾¤ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

URL: https://gyulist.com

Gyulistã¯ã€ç•œç”£è¾²å®¶å‘ã‘ã®åŒ…æ‹¬çš„ãªç‰›ç¾¤ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚å€‹ä½“è­˜åˆ¥ã€è¡€çµ±ç®¡ç†ã€ç¹æ®–æƒ…å ±ã®è¿½è·¡ã€å¥åº·çŠ¶æ…‹ã®è¨˜éŒ²ãªã©ã€ç‰›ã®ä¸€ç”Ÿã‚’ãƒ‡ã‚¸ã‚¿ãƒ«ã§ç®¡ç†ã§ãã¾ã™ã€‚

## âœ¨ ä¸»ãªæ©Ÿèƒ½

### ğŸ® ç‰›ç¾¤ç®¡ç†
- **å€‹ä½“ç™»éŒ²ãƒ»ç·¨é›†**: å€‹ä½“è­˜åˆ¥ç•ªå·ã€è€³æ¨™ç•ªå·ã€åå·ãªã©ã®åŸºæœ¬æƒ…å ±ç®¡ç†
- **è¡€çµ±æƒ…å ±**: çˆ¶ç‰›ã€æ¯ã®çˆ¶ç‰›ã€æ¯ã®ç¥–çˆ¶ç‰›ã€æ¯ã®æ›¾ç¥–çˆ¶ç‰›ã®è¡€çµ±è¿½è·¡
- **æˆé•·æ®µéšç®¡ç†**: ä»”ç‰›ã€è‚²æˆç‰›ã€è‚¥è‚²ç‰›ã€åˆç”£ç‰›ã€çµŒç”£ç‰›ã®æ®µéšåˆ¥ç®¡ç†
- **å¹´é½¢è‡ªå‹•è¨ˆç®—**: ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰å¹´é½¢ã€æœˆé½¢ã€æ—¥é½¢ã‚’è‡ªå‹•è¨ˆç®—

### ğŸ”„ ç¹æ®–ç®¡ç†
- **ç¹æ®–çŠ¶æ…‹è¿½è·¡**: ç”£æ¬¡ã€åˆ†å¨©äºˆå®šæ—¥ã€å¦Šå¨ é‘‘å®šäºˆå®šæ—¥ã®è‡ªå‹•è¨ˆç®—
- **ç¹æ®–çµ±è¨ˆ**: ç´¯è¨ˆç¨®ä»˜å›æ•°ã€å—èƒç‡ã€é›£ç”£å›æ•°ãªã©ã®çµ±è¨ˆæƒ…å ±
- **ç¹æ®–ãƒ¡ãƒ¢**: ç¹æ®–ã«é–¢ã™ã‚‹è©³ç´°ãªãƒ¡ãƒ¢è¨˜éŒ²
- **é›£ç”£åˆ¤å®š**: å‰å›å‡ºç”£ã®é›£ç”£ãƒ»å®‰ç”£åˆ¤å®š

### ğŸ“Š ãƒ‡ãƒ¼ã‚¿åˆ†æ
- **è‡ªå‹•è¨ˆç®—æ©Ÿèƒ½**: ç”Ÿå¹´æœˆæ—¥ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãè‡ªå‹•è¨ˆç®—
- **çµ±è¨ˆæƒ…å ±**: ç¹æ®–æˆç¸¾ã€å¥åº·çŠ¶æ…‹ã®çµ±è¨ˆåˆ†æ
- **æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿**: æˆé•·æ®µéšã€æ€§åˆ¥ã€å¹´é½¢ã«ã‚ˆã‚‹æ¤œç´¢æ©Ÿèƒ½

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£(æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Web)
- **Framework**: Next.js 15 (App Router)
- **UI**: Tailwind CSS + shadcn/ui
- **Form**: Conform + Zod (å‹å®‰å…¨ãªãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†)
- **State**: React Server Actions
- **Deployment**: Cloudflare Pages

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (API)
- **Framework**: Hono (è»½é‡Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯)
- **Database**: Cloudflare D1 (SQLite)
- **ORM**: Drizzle ORM
- **Authentication**: JWT
- **Deployment**: Cloudflare Workers

### ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£
- **Hosting**: Cloudflare Pages (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)
- **API**: Cloudflare Workers (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)
- **Database**: Cloudflare D1 (SQLite)
- **CI/CD**: GitHub Actions

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶
- Node.js 20ä»¥ä¸Š
- pnpm
- Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- Wrangler CLI

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone
cd gyulist
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pnpm install
```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

#### API (apps/api)
```bash
cd apps/api
cp .env.example .env.local
```

å¿…è¦ãªç’°å¢ƒå¤‰æ•°:
- `CLOUDFLARE_API_TOKEN`
- `CLOUDFLARE_ACCOUNT_ID`
- `JWT_SECRET`
- `RESEND_API_KEY`
- `MAIL_FROM`
- `TURNSTILE_SECRET_KEY`
- `ADMIN_USER`
- `ADMIN_PASS`

#### Web (apps/web)
```bash
cd apps/web
cp .env.example .env.local
```

å¿…è¦ãªç’°å¢ƒå¤‰æ•°:
- `NEXT_PUBLIC_API_URL`
- `NEXT_PUBLIC_TURNSTILE_SITE_KEY`
- `ADMIN_USER`
- `ADMIN_PASS`

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
cd apps/api
pnpm run migrate:local  # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨
pnpm run migrate:remote # æœ¬ç•ªç’°å¢ƒç”¨
```

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

#### API
```bash
cd apps/api
pnpm run dev
```

#### Web
```bash
cd apps/web
pnpm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ [http://localhost:3000](http://localhost:3000) ã‚’é–‹ã„ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã§ãã¾ã™ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
gyulist/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/                 # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Hono + Cloudflare Workers)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/      # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ services/    # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/# ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”‚   â”‚   â”‚   â”œâ”€â”€ validators/  # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”‚   â””â”€â”€ db/         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
â”‚   â”‚   â””â”€â”€ drizzle/        # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ web/                # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Next.js)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ app/        # Next.js App Router
â”‚       â”‚   â”œâ”€â”€ features/   # æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”‚   â”œâ”€â”€ components/ # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”‚   â””â”€â”€ lib/        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â””â”€â”€ public/         # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ .github/workflows/      # CI/CDè¨­å®š
```

## ğŸ› ï¸ é–‹ç™º

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

#### ãƒ«ãƒ¼ãƒˆ
```bash
pnpm format        # ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
pnpm lint          # ãƒªãƒ³ãƒˆ
pnpm web           # Webã‚¢ãƒ—ãƒªã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
pnpm api           # APIã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
```

#### API
```bash
pnpm run dev              # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm run build            # ãƒ“ãƒ«ãƒ‰
pnpm run deploy           # Cloudflare Workersã«ãƒ‡ãƒ—ãƒ­ã‚¤
pnpm run migrate:local    # ãƒ­ãƒ¼ã‚«ãƒ«DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
pnpm run migrate:remote   # æœ¬ç•ªDBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```

#### Web
```bash
pnpm run dev              # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm run build            # ãƒ“ãƒ«ãƒ‰
pnpm run deploy           # Cloudflare Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤
pnpm run preview          # æœ¬ç•ªç’°å¢ƒã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ
```bash
cd apps/api
pnpm run generate
```

#### ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ä½œæˆ
```bash
cd apps/api
pnpm run create-dummy-data:local   # ãƒ­ãƒ¼ã‚«ãƒ«ç”¨
pnpm run create-dummy-data:remote  # æœ¬ç•ªç”¨
```

### äº‹å‰ç™»éŒ²ãƒ†ãƒ¼ãƒ–ãƒ«ã®åˆæœŸåŒ–
```bash
wrangler d1 execute <DB_NAME> --file=apps/api/drizzle/migrations/0010_pre_registration.sql
```
Resend ã® Sender Domain `gyulist.com` ã‚’èªè¨¼ã—ã€`RESEND_API_KEY` ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
GitHubã®mainãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨ã€GitHub ActionsãŒè‡ªå‹•çš„ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤

#### API
```bash
cd apps/api
pnpm run deploy
```

#### Web
```bash
cd apps/web
pnpm run deploy
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«
- **cattle**: ç‰›ã®åŸºæœ¬æƒ…å ±
- **bloodline**: è¡€çµ±æƒ…å ±
- **breeding_status**: ç¹æ®–çŠ¶æ…‹
- **breeding_summary**: ç¹æ®–çµ±è¨ˆ
- **events**: ã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²

è©³ç´°ãªã‚¹ã‚­ãƒ¼ãƒã¯ [docs/schema_columns.md](docs/schema_columns.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

**Gyulist** - ãƒ‡ã‚¸ã‚¿ãƒ«ã§ç‰›ç¾¤ã‚’ç®¡ç†ã—ã€é…ªè¾²ã®æœªæ¥ã‚’å‰µé€ ã™ã‚‹ ğŸ„âœ¨
